{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\echan\\\\Desktop\\\\REact-cursoCompeto\\\\react-complete-guide-course-resources-main\\\\code\\\\22 Authentication\\\\01-starting-project\\\\frontend\\\\src\\\\pages\\\\Root.jsx\";\nimport { Outlet, useSubmit } from \"react-router-dom\";\nimport React, { useEffect } from \"react\";\nimport MainNavigation from \"../components/MainNavigation\";\nimport { useLoaderData } from \"react-router-dom\";\nimport { getUserToken } from \"../utils/auth\";\nfunction RootLayout() {\n  const submit = useSubmit();\n  const token = useLoaderData();\n  useEffect(() => {\n    const token = getUserToken();\n    if (token === \"EXPIRED\") {\n      submit({}, {\n        method: \"post\",\n        action: \"/logout\"\n      });\n    }\n    const tokenDuration = getTokenDuration();\n    setTimeout(() => {\n      if (tokenDuration) submit({}, {\n        method: \"post\",\n        action: \"/logout\"\n      });\n    }, tokenDuration);\n  }, [submit]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MainNavigation, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"main\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Outlet, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 9\n    }\n  })));\n}\nexport default RootLayout;","map":{"version":3,"names":["Outlet","useSubmit","React","useEffect","MainNavigation","useLoaderData","getUserToken","RootLayout","submit","token","method","action","tokenDuration","getTokenDuration","setTimeout","createElement","Fragment","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["C:/Users/echan/Desktop/REact-cursoCompeto/react-complete-guide-course-resources-main/code/22 Authentication/01-starting-project/frontend/src/pages/Root.jsx"],"sourcesContent":["import { Outlet, useSubmit } from \"react-router-dom\"\nimport React, { useEffect } from \"react\"\n\nimport MainNavigation from \"../components/MainNavigation\"\nimport { useLoaderData } from \"react-router-dom\"\nimport { getUserToken } from \"../utils/auth\"\n\nfunction RootLayout() {\n  const submit = useSubmit()\n  const token = useLoaderData()\n\n  useEffect(() => {\n    const token = getUserToken()\n    if (token === \"EXPIRED\") {\n      submit({}, { method: \"post\", action: \"/logout\" })\n    }\n    const tokenDuration = getTokenDuration()\n    setTimeout(() => {\n      if (tokenDuration) submit({}, { method: \"post\", action: \"/logout\" })\n    }, tokenDuration)\n  }, [submit])\n\n  return (\n    <>\n      <MainNavigation />\n      <main>\n        {/* {navigation.state === 'loading' && <p>Loading...</p>} */}\n        <Outlet />\n      </main>\n    </>\n  )\n}\n\nexport default RootLayout\n"],"mappings":";AAAA,SAASA,MAAM,EAAEC,SAAS,QAAQ,kBAAkB;AACpD,OAAOC,KAAK,IAAIC,SAAS,QAAQ,OAAO;AAExC,OAAOC,cAAc,MAAM,8BAA8B;AACzD,SAASC,aAAa,QAAQ,kBAAkB;AAChD,SAASC,YAAY,QAAQ,eAAe;AAE5C,SAASC,UAAUA,CAAA,EAAG;EACpB,MAAMC,MAAM,GAAGP,SAAS,CAAC,CAAC;EAC1B,MAAMQ,KAAK,GAAGJ,aAAa,CAAC,CAAC;EAE7BF,SAAS,CAAC,MAAM;IACd,MAAMM,KAAK,GAAGH,YAAY,CAAC,CAAC;IAC5B,IAAIG,KAAK,KAAK,SAAS,EAAE;MACvBD,MAAM,CAAC,CAAC,CAAC,EAAE;QAAEE,MAAM,EAAE,MAAM;QAAEC,MAAM,EAAE;MAAU,CAAC,CAAC;IACnD;IACA,MAAMC,aAAa,GAAGC,gBAAgB,CAAC,CAAC;IACxCC,UAAU,CAAC,MAAM;MACf,IAAIF,aAAa,EAAEJ,MAAM,CAAC,CAAC,CAAC,EAAE;QAAEE,MAAM,EAAE,MAAM;QAAEC,MAAM,EAAE;MAAU,CAAC,CAAC;IACtE,CAAC,EAAEC,aAAa,CAAC;EACnB,CAAC,EAAE,CAACJ,MAAM,CAAC,CAAC;EAEZ,oBACEN,KAAA,CAAAa,aAAA,CAAAb,KAAA,CAAAc,QAAA,qBACEd,KAAA,CAAAa,aAAA,CAACX,cAAc;IAAAa,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,eAClBpB,KAAA,CAAAa,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAEEpB,KAAA,CAAAa,aAAA,CAACf,MAAM;IAAAiB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CACL,CACN,CAAC;AAEP;AAEA,eAAef,UAAU"},"metadata":{},"sourceType":"module"}